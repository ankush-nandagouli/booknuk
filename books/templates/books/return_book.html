{% extends "base.html" %}
{% block content %}

<div class="max-w-3xl mx-auto mt-10 bg-white shadow-lg rounded-lg p-6 dark:bg-gray-800">
  <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-2">
    ğŸ“• Return Book
  </h2>

  <!-- Student & Book Info -->
  <div class="space-y-4">
    <p><span class="font-semibold">ğŸ‘¤ Student:</span> {{ issue.student }}</p>
    <p><span class="font-semibold">ğŸ“– Book:</span> {{ issue.book.title }}</p>
    <p><span class="font-semibold">ğŸ“… Issue Date:</span> {{ issue.issue_date }}</p>
    <p><span class="font-semibold">â³ Due Date:</span> {{ issue.due_date }}</p>

    {% if issue.return_date %}
      <p><span class="font-semibold">âœ… Already Returned On:</span> {{ issue.return_date }}</p>
      <p class="text-green-600 font-semibold">Fine: â‚¹{{ issue.fine }}</p>
    {% else %}
      <p class="text-red-600 font-semibold">âš ï¸ Not Returned Yet</p>
      <p class="text-red-500 font-bold">Fine: â‚¹{{ issue.fine }}</p>
    {% endif %}
  </div>

  <!-- Return Form -->
  {% if not issue.return_date %}
    <form method="POST" class="mt-6">
      {% csrf_token %}
      <button type="submit"
        class="w-full px-5 py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition">
        âœ… Mark as Returned
      </button>
    </form>
  {% else %}
    <div class="mt-6 p-4 bg-green-100 text-green-700 rounded-lg">
      ğŸ“Œ This book has already been returned.
    </div>
  {% endif %}
</div>

{% endblock %}
